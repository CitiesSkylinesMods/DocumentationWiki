# Developer Tools

## IDE

TM:PE is written in C# and requires an IDE such as Visual Studio or Rider.

We use the latest language version and target .NET Framework 3.5 (what C:SL uses, sorry).

> Due to the size of the project, we use various analysers and style guides to avoid common mistakes and ensure
> consistency of formatting. Your IDE should automatically install any required items and show warnings inline and when
> building. If there are conflicting code style guidelines in your IDE, favour those generated by StyleCop.

* [Rider](https://www.jetbrains.com/rider/) - Remember
  to [activate Roslyn Analyzers](https://www.jetbrains.com/help/rider/Settings_Roslyn_Analyzers.html) ([why?](https://github.com/krzychu124/Cities-Skylines-Traffic-Manager-President-Edition/pull/463))
* [Visual Studio](https://visualstudio.microsoft.com/vs/) - You'll
  need [VS 2019](https://docs.microsoft.com/en-us/visualstudio/releases/2019/release-notes) or
  later ([why?](https://github.com/krzychu124/Cities-Skylines-Traffic-Manager-President-Edition/pull/463))
    - You can perform code review directly from Visual studio. see [](Reviewing pull request using Visual studio)

## Decompilers:

### dnSpy

.NET browser and decompiler. Also useful
for [debugging](https://github.com/krzychu124/Cities-Skylines-Traffic-Manager-President-Edition/wiki/Attaching-Debugger-to-Cities-Skylines).
Requires manual install:

* dnSpy-net472.zip : https://github.com/0xd4d/dnSpy/releases
* [Visual Studio plugin](https://marketplace.visualstudio.com/items?itemName=VladimirChirikov.GoToDnSpy)

### ILSpy

.NET browser and decompiler. Requires manual install:

* [icsharpcode/ILSpy](https://github.com/icsharpcode/ILSpy)
* [Standalone tool](https://github.com/icsharpcode/ILSpy/releases)
* [Visual Studio plugin](https://marketplace.visualstudio.com/items?itemName=SharpDevelopTeam.ILSpy)

### dotPeek

.NET browser and decompiler. Requires manual install if not using Rider:

* [Standalone tool](https://www.jetbrains.com/decompiler/)

## Roslyn Clr Heap Allocation Analyzer

Roslyn based C# heap allocation diagnostic analyzer that can detect explicit and many implicit allocations like boxing,
display classes a.k.a closures, implicit delegate creations, etc. Requires manual install:

* [microsoft/RoslynClrHeapAllocationAnalyzer](https://github.com/microsoft/RoslynClrHeapAllocationAnalyzer)
* [Rider plugin](https://plugins.jetbrains.com/plugin/9223-heap-allocations-viewer)
* [Visual Studio plugin](https://marketplace.visualstudio.com/items?itemName=MukulSabharwal.ClrHeapAllocationAnalyzer)

## ReflectionIT.Analyzer.Structs

Prevents use of `in` for anything other
than `readonly struct` ([why?](https://github.com/krzychu124/Cities-Skylines-Traffic-Manager-President-Edition/issues/440)).

* Automatically installed [via NuGet](https://www.nuget.org/packages/ReflectionIT.Analyzer.Structs/).